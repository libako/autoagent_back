2025-08-29 11:28:43.714 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 11:28:44.319 +02:00 [INF] Now listening on: http://localhost:5088
2025-08-29 11:28:44.326 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 11:28:44.327 +02:00 [INF] Hosting environment: Development
2025-08-29 11:28:44.329 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 11:28:49.466 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents - null null
2025-08-29 11:28:49.606 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:49.620 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents - 204 null null 167.4658ms
2025-08-29 11:28:49.640 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents - application/json null
2025-08-29 11:28:49.667 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:49.700 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/'
2025-08-29 11:28:50.735 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
ORDER BY "a"."CreatedUtc"
2025-08-29 11:28:50.848 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:28:50.868 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 11:28:50.895 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/'
2025-08-29 11:28:50.922 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents - 200 null application/json; charset=utf-8 1282.3196ms
2025-08-29 11:28:53.141 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 11:28:53.141 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 11:28:53.150 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:53.155 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:53.161 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 19.6327ms
2025-08-29 11:28:53.164 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 23.3243ms
2025-08-29 11:28:53.170 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 11:28:53.179 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 11:28:53.189 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:53.195 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:53.202 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 11:28:53.208 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:28:53.333 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:28:53.342 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 11:28:53.351 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:28:53.361 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 11:28:53.369 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 11:28:53.371 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:28:53.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 214.7224ms
2025-08-29 11:28:53.395 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 11:28:53.417 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:28:53.423 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 243.7834ms
2025-08-29 11:28:54.437 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/mcp/tools/all - null null
2025-08-29 11:28:54.437 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/mcp/servers - null null
2025-08-29 11:28:54.448 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:54.454 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:54.457 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/mcp/tools/all - 204 null null 20.0469ms
2025-08-29 11:28:54.462 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/mcp/servers - 204 null null 24.9254ms
2025-08-29 11:28:54.468 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/mcp/tools/all - application/json null
2025-08-29 11:28:54.472 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/mcp/servers - application/json null
2025-08-29 11:28:54.483 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:54.489 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:54.493 +02:00 [INF] Executing endpoint 'HTTP: GET /mcp/tools/all'
2025-08-29 11:28:54.499 +02:00 [INF] Executing endpoint 'HTTP: GET /mcp/servers'
2025-08-29 11:28:54.535 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 11:28:54.548 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 11:28:54.565 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:28:54.574 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 11:28:54.585 +02:00 [INF] Start processing HTTP request GET http://localhost:8970//.well-known/mcp
2025-08-29 11:28:54.592 +02:00 [INF] Executed endpoint 'HTTP: GET /mcp/servers'
2025-08-29 11:28:54.599 +02:00 [INF] Sending HTTP request GET http://localhost:8970//.well-known/mcp
2025-08-29 11:28:54.602 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/mcp/servers - 200 null application/json; charset=utf-8 130.0089ms
2025-08-29 11:28:54.634 +02:00 [INF] Received HTTP response headers after 24.3544ms - 404
2025-08-29 11:28:54.643 +02:00 [INF] End processing HTTP request after 67.9075ms - 404
2025-08-29 11:28:54.660 +02:00 [INF] Start processing HTTP request GET http://localhost:8970/.well-known/mcp
2025-08-29 11:28:54.666 +02:00 [INF] Sending HTTP request GET http://localhost:8970/.well-known/mcp
2025-08-29 11:28:54.675 +02:00 [INF] Received HTTP response headers after 4.9829ms - 200
2025-08-29 11:28:54.689 +02:00 [INF] End processing HTTP request after 28.0993ms - 200
2025-08-29 11:28:54.726 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__serverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope"
FROM "Tools" AS "t"
WHERE "t"."McpServerId" = @__serverId_0
2025-08-29 11:28:54.927 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Tools"
WHERE "Id" = @p0
RETURNING 1;
2025-08-29 11:28:54.938 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Tools"
WHERE "Id" = @p0
RETURNING 1;
2025-08-29 11:28:54.947 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Tools"
WHERE "Id" = @p0
RETURNING 1;
2025-08-29 11:28:54.961 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Tools"
WHERE "Id" = @p0
RETURNING 1;
2025-08-29 11:28:55.028 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 33), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = Guid), @p5='?' (Size = 9), @p6='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tools" ("Id", "Description", "Enabled", "InputSchemaJson", "McpServerId", "Name", "Scope")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:28:55.035 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 30), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = Guid), @p5='?' (Size = 12), @p6='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tools" ("Id", "Description", "Enabled", "InputSchemaJson", "McpServerId", "Name", "Scope")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:28:55.046 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 47), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = Guid), @p5='?' (Size = 14), @p6='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tools" ("Id", "Description", "Enabled", "InputSchemaJson", "McpServerId", "Name", "Scope")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:28:55.058 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 70), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = Guid), @p5='?' (Size = 13), @p6='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tools" ("Id", "Description", "Enabled", "InputSchemaJson", "McpServerId", "Name", "Scope")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:28:55.069 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:28:55.075 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 11:28:55.094 +02:00 [INF] Executed endpoint 'HTTP: GET /mcp/tools/all'
2025-08-29 11:28:55.101 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/mcp/tools/all - 200 null application/json; charset=utf-8 633.3283ms
2025-08-29 11:28:57.774 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json 64
2025-08-29 11:28:57.781 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:57.785 +02:00 [INF] Executing endpoint 'HTTP: POST /agents/{id:guid}/bindings'
2025-08-29 11:28:57.819 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:28:57.870 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AgentToolBindings" ("Id", "AgentId", "ConfigJson", "Enabled", "ToolId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-08-29 11:28:57.877 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 11:28:57.881 +02:00 [INF] Writing value of type 'BindingResponse' as Json.
2025-08-29 11:28:57.889 +02:00 [INF] Executed endpoint 'HTTP: POST /agents/{id:guid}/bindings'
2025-08-29 11:28:57.896 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 201 null application/json; charset=utf-8 122.1623ms
2025-08-29 11:28:57.906 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 11:28:57.913 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:28:57.919 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:28:57.937 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 11:28:57.945 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:28:57.950 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 11:28:57.965 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:28:57.972 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 65.9242ms
2025-08-29 11:29:01.851 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 11:29:01.860 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:29:01.863 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 12.4142ms
2025-08-29 11:29:01.870 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 11:29:01.875 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:29:01.880 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 11:29:01.903 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:29:01.953 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:29:01.964 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 11:29:01.969 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 11:29:01.975 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 11:29:01.980 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 110.1889ms
2025-08-29 11:29:01.987 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 11:29:01.996 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:29:02.009 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 21.4089ms
2025-08-29 11:29:02.018 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 11:29:02.036 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:29:02.050 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 11:29:02.058 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 11:29:02.067 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 11:29:02.073 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=q9-c5OD6fxmjVOF2UkZUhQ - null null
2025-08-29 11:29:02.073 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 55.8408ms
2025-08-29 11:29:02.078 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:29:02.089 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 11:29:02.095 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 11:29:11.998 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/4ec4ddab-2b67-4fc6-8681-496079de4124/messages - null null
2025-08-29 11:29:12.006 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:29:12.011 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/4ec4ddab-2b67-4fc6-8681-496079de4124/messages - 204 null null 13.2919ms
2025-08-29 11:29:12.018 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/4ec4ddab-2b67-4fc6-8681-496079de4124/messages - application/json 70
2025-08-29 11:29:12.024 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:29:12.033 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:29:12.061 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:29:12.100 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 56), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:29:12.112 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 11:29:12.114 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:29:12.120 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 11:29:12.130 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:29:12.140 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/4ec4ddab-2b67-4fc6-8681-496079de4124/messages - 202 null application/json; charset=utf-8 122.9029ms
2025-08-29 11:29:12.224 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:29:12.682 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:29:15.896 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 237), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:35:25.693 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 11:35:26.335 +02:00 [INF] Now listening on: http://localhost:5089
2025-08-29 11:35:26.342 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 11:35:26.344 +02:00 [INF] Hosting environment: Development
2025-08-29 11:35:26.345 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 11:35:29.312 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/health/live - null null
2025-08-29 11:35:29.390 +02:00 [INF] Executing endpoint 'HTTP: GET /health/live'
2025-08-29 11:35:29.407 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:35:29.412 +02:00 [INF] Writing value of type 'String' as Json.
2025-08-29 11:35:29.423 +02:00 [INF] Executed endpoint 'HTTP: GET /health/live'
2025-08-29 11:35:29.434 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/health/live - 200 null application/json; charset=utf-8 137.3717ms
2025-08-29 11:35:39.166 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5089/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings/ff908b9b-343d-4afe-8a22-1adea64ed97f - application/json 23
2025-08-29 11:35:39.174 +02:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-08-29 11:35:39.178 +02:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-08-29 11:35:39.183 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5089/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings/ff908b9b-343d-4afe-8a22-1adea64ed97f - 405 0 null 17.3146ms
2025-08-29 11:35:51.004 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 11:35:51.018 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:35:53.602 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 11:35:54.054 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:35:54.096 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 11:35:54.161 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:35:54.216 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 3212.1427ms
2025-08-29 11:36:50.278 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions - application/json 57
2025-08-29 11:36:50.284 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 11:36:50.369 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:36:50.485 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:36:50.498 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 11:36:50.503 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 11:36:50.509 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 11:36:50.513 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions - 201 null application/json; charset=utf-8 235.2881ms
2025-08-29 11:36:59.246 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions/4cc23731-bf85-4f75-9b8a-16c83076fbfc/messages - application/json 74
2025-08-29 11:36:59.255 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:36:59.286 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:36:59.310 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:36:59.317 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 11:36:59.320 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:36:59.323 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 11:36:59.331 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:36:59.335 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions/4cc23731-bf85-4f75-9b8a-16c83076fbfc/messages - 202 null application/json; charset=utf-8 89.1861ms
2025-08-29 11:36:59.376 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:36:59.472 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:37:01.481 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 342), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:38:36.219 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 11:38:36.756 +02:00 [INF] Now listening on: http://localhost:5088
2025-08-29 11:38:36.762 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 11:38:36.764 +02:00 [INF] Hosting environment: Development
2025-08-29 11:38:36.765 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 11:38:37.490 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 11:38:37.490 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 11:38:37.612 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:38:37.612 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:38:37.625 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 147.8117ms
2025-08-29 11:38:37.626 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 149.7518ms
2025-08-29 11:38:37.646 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 11:38:37.646 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 11:38:37.666 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:38:37.668 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:38:37.706 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:38:37.706 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 11:38:38.647 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:38:38.650 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 11:38:38.761 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:38:38.761 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:38:38.776 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 11:38:38.783 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 11:38:38.801 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 11:38:38.803 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:38:38.820 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 1173.4915ms
2025-08-29 11:38:38.820 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 1174.3597ms
2025-08-29 11:38:41.104 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 11:38:41.111 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:38:41.119 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 15.2394ms
2025-08-29 11:38:41.134 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 11:38:41.143 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:38:41.158 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 11:38:41.284 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:38:41.520 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:38:41.543 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 11:38:41.563 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 11:38:41.575 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 11:38:41.608 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 474.1156ms
2025-08-29 11:38:41.629 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 11:38:41.659 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:38:41.689 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 59.2372ms
2025-08-29 11:38:41.695 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 11:38:41.728 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:38:41.749 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 11:38:41.762 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 11:38:41.810 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 11:38:41.814 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=CR5wmSmA_9pzjAPubl8Yqg - null null
2025-08-29 11:38:41.822 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 126.8705ms
2025-08-29 11:38:41.842 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:38:41.865 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 11:38:41.882 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 11:38:45.841 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/44e54eb5-00c7-4c4c-8933-b9b369861580/messages - null null
2025-08-29 11:38:45.851 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:38:45.855 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/44e54eb5-00c7-4c4c-8933-b9b369861580/messages - 204 null null 14.8631ms
2025-08-29 11:38:45.861 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/44e54eb5-00c7-4c4c-8933-b9b369861580/messages - application/json 67
2025-08-29 11:38:45.868 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:38:45.873 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:38:45.901 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:38:45.955 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:38:45.974 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 11:38:45.977 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:38:45.982 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 11:38:45.990 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:38:45.994 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/44e54eb5-00c7-4c4c-8933-b9b369861580/messages - 202 null application/json; charset=utf-8 133.3541ms
2025-08-29 11:38:46.088 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:38:46.220 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:38:48.813 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 548), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:43:16.473 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 11:43:17.142 +02:00 [INF] Now listening on: http://localhost:5089
2025-08-29 11:43:17.151 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 11:43:17.155 +02:00 [INF] Hosting environment: Development
2025-08-29 11:43:17.158 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 11:43:18.301 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/health/live - null null
2025-08-29 11:43:18.477 +02:00 [INF] Executing endpoint 'HTTP: GET /health/live'
2025-08-29 11:43:18.493 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:43:18.512 +02:00 [INF] Writing value of type 'String' as Json.
2025-08-29 11:43:18.553 +02:00 [INF] Executed endpoint 'HTTP: GET /health/live'
2025-08-29 11:43:18.564 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/health/live - 200 null application/json; charset=utf-8 295.8392ms
2025-08-29 11:43:29.792 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions - application/json 57
2025-08-29 11:43:29.800 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 11:43:30.586 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:43:30.780 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:43:30.793 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 11:43:30.806 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 11:43:30.818 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 11:43:30.825 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions - 201 null application/json; charset=utf-8 1033.9342ms
2025-08-29 11:43:37.038 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions/4cc23731-bf85-4f75-9b8a-16c83076fbfc/messages - application/json 74
2025-08-29 11:43:37.047 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:43:37.095 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:43:37.126 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:43:37.133 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 11:43:37.136 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:43:37.139 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 11:43:37.149 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:43:37.154 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions/4cc23731-bf85-4f75-9b8a-16c83076fbfc/messages - 202 null application/json; charset=utf-8 116.0803ms
2025-08-29 11:43:37.202 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:43:37.277 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:43:38.220 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:43:38.237 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:43:40.417 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 479), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:43:58.394 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/sessions/4cc23731-bf85-4f75-9b8a-16c83076fbfc/trace - null null
2025-08-29 11:43:58.404 +02:00 [INF] Executing endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 11:43:58.413 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:43:58.434 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Cost", "t"."EndedUtc", "t"."Idx", "t"."Kind", "t"."PayloadJson", "t"."SessionId", "t"."StartedUtc"
FROM "TraceSteps" AS "t"
WHERE "t"."SessionId" = @__sessionId_0
ORDER BY "t"."StartedUtc"
LIMIT @__p_2 OFFSET @__p_1
2025-08-29 11:43:58.440 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:43:58.455 +02:00 [INF] Writing value of type 'TracePageDto' as Json.
2025-08-29 11:43:58.465 +02:00 [INF] Executed endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 11:43:58.469 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/sessions/4cc23731-bf85-4f75-9b8a-16c83076fbfc/trace - 200 null application/json; charset=utf-8 76.0499ms
2025-08-29 11:44:04.677 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions - application/json 57
2025-08-29 11:44:04.684 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 11:44:04.689 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:44:04.704 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:44:04.710 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 11:44:04.714 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 11:44:04.718 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 11:44:04.723 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions - 201 null application/json; charset=utf-8 45.711ms
2025-08-29 11:44:12.267 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions/4cc23731-bf85-4f75-9b8a-16c83076fbfc/messages - application/json 74
2025-08-29 11:44:12.274 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:44:12.280 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:44:12.297 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:44:12.303 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 11:44:12.304 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:44:12.309 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 11:44:12.318 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:44:12.321 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:44:12.329 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:44:12.333 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions/4cc23731-bf85-4f75-9b8a-16c83076fbfc/messages - 202 null application/json; charset=utf-8 65.3574ms
2025-08-29 11:44:12.869 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:44:14.254 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 375), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:45:35.979 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 11:45:36.424 +02:00 [INF] Now listening on: http://localhost:5088
2025-08-29 11:45:36.430 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 11:45:36.431 +02:00 [INF] Hosting environment: Development
2025-08-29 11:45:36.432 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 11:45:41.625 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 11:45:41.625 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 11:45:41.734 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:45:41.734 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:45:41.758 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 146.1783ms
2025-08-29 11:45:41.758 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 145.6967ms
2025-08-29 11:45:41.778 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 11:45:41.778 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 11:45:41.789 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:45:41.789 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:45:41.806 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 11:45:41.806 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:45:42.630 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:45:42.630 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 11:45:42.716 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:45:42.718 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:45:42.750 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 11:45:42.753 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 11:45:42.767 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:45:42.768 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 11:45:42.778 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 1000.5049ms
2025-08-29 11:45:42.779 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 1001.1912ms
2025-08-29 11:45:44.506 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 11:45:44.516 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:45:44.520 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 13.8661ms
2025-08-29 11:45:44.525 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 11:45:44.533 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:45:44.547 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 11:45:44.655 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:45:44.804 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:45:44.817 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 11:45:44.822 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 11:45:44.832 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 11:45:44.837 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 311.4458ms
2025-08-29 11:45:44.850 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 11:45:44.856 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:45:44.866 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 15.7624ms
2025-08-29 11:45:44.874 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 11:45:44.889 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:45:44.909 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 11:45:44.916 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 11:45:44.927 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 11:45:44.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=m1L5LOWDZigYUkJon0f4QQ - null null
2025-08-29 11:45:44.945 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 71.8386ms
2025-08-29 11:45:44.951 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:45:44.966 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 11:45:44.979 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 11:45:49.509 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/8019834a-dc12-4f1a-ba90-9b4f3425778c/messages - null null
2025-08-29 11:45:49.517 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:45:49.521 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/8019834a-dc12-4f1a-ba90-9b4f3425778c/messages - 204 null null 11.9887ms
2025-08-29 11:45:49.527 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/8019834a-dc12-4f1a-ba90-9b4f3425778c/messages - application/json 67
2025-08-29 11:45:49.532 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:45:49.537 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:45:49.565 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:45:49.615 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:45:49.653 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 11:45:49.656 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:45:49.662 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 11:45:49.670 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:45:49.675 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/8019834a-dc12-4f1a-ba90-9b4f3425778c/messages - 202 null application/json; charset=utf-8 147.9451ms
2025-08-29 11:45:49.736 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:45:50.190 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:45:51.069 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:45:53.645 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 706), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:47:45.590 +02:00 [INF] Executed endpoint '/hubs/trace'
2025-08-29 11:47:45.607 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/hubs/trace?id=m1L5LOWDZigYUkJon0f4QQ - 101 null null 120663.7254ms
2025-08-29 11:47:45.971 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 11:47:45.971 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 11:47:45.978 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:47:45.985 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:47:45.991 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 20.1375ms
2025-08-29 11:47:45.997 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 27.6151ms
2025-08-29 11:47:46.010 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 11:47:46.023 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 11:47:46.034 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:47:46.043 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:47:46.048 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:47:46.060 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 11:47:46.073 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 11:47:46.074 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:47:46.080 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:47:46.085 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:47:46.091 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 11:47:46.097 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 11:47:46.103 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:47:46.110 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 11:47:46.118 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 108.2789ms
2025-08-29 11:47:46.132 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 109.4789ms
2025-08-29 11:47:47.832 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 11:47:47.840 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:47:47.844 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 12.2624ms
2025-08-29 11:47:47.851 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 11:47:47.863 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:47:47.871 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 11:47:47.883 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:47:47.905 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:47:47.914 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 11:47:47.928 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 11:47:47.950 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 11:47:47.967 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 116.3351ms
2025-08-29 11:47:47.982 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 11:47:47.989 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:47:47.999 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 16.7799ms
2025-08-29 11:47:48.000 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 11:47:48.014 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:47:48.022 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 11:47:48.046 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 11:47:48.051 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 11:47:48.075 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 74.5398ms
2025-08-29 11:47:48.075 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=uPZtSNIsuoL0k3X6vatN9g - null null
2025-08-29 11:47:48.093 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:47:48.108 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 11:47:48.115 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 11:47:49.855 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/63aeda9c-dfa8-43bf-b0ce-78933f94d88a/messages - null null
2025-08-29 11:47:49.861 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:47:49.867 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/63aeda9c-dfa8-43bf-b0ce-78933f94d88a/messages - 204 null null 12.6902ms
2025-08-29 11:47:49.874 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/63aeda9c-dfa8-43bf-b0ce-78933f94d88a/messages - application/json 67
2025-08-29 11:47:49.884 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:47:49.894 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:47:49.904 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:47:49.928 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:47:49.936 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 11:47:49.937 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:47:49.947 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 11:47:49.964 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:47:49.967 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:47:49.980 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:47:49.996 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/63aeda9c-dfa8-43bf-b0ce-78933f94d88a/messages - 202 null application/json; charset=utf-8 122.2078ms
2025-08-29 11:47:50.680 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:47:52.664 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 662), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:51:23.733 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 11:51:24.595 +02:00 [INF] Now listening on: http://localhost:5089
2025-08-29 11:51:24.606 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 11:51:24.611 +02:00 [INF] Hosting environment: Development
2025-08-29 11:51:24.616 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 11:51:24.882 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/health/live - null null
2025-08-29 11:51:25.037 +02:00 [INF] Executing endpoint 'HTTP: GET /health/live'
2025-08-29 11:51:25.048 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:51:25.057 +02:00 [INF] Writing value of type 'String' as Json.
2025-08-29 11:51:25.081 +02:00 [INF] Executed endpoint 'HTTP: GET /health/live'
2025-08-29 11:51:25.098 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/health/live - 200 null application/json; charset=utf-8 237.1536ms
2025-08-29 11:51:34.293 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions - application/json 57
2025-08-29 11:51:34.310 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 11:51:35.535 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:51:35.892 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:51:35.913 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 11:51:35.925 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 11:51:35.938 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 11:51:35.949 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions - 201 null application/json; charset=utf-8 1657.217ms
2025-08-29 11:51:49.439 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions/5add7478-83a9-4e8c-bebc-674bce259684/messages - application/json 74
2025-08-29 11:51:49.451 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:51:49.518 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:51:49.558 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:51:49.569 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 11:51:49.573 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:51:49.579 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 11:51:49.591 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:51:49.598 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions/5add7478-83a9-4e8c-bebc-674bce259684/messages - 202 null application/json; charset=utf-8 159.5478ms
2025-08-29 11:51:49.728 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:51:49.893 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:51:50.925 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:51:52.565 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 430), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:52:14.600 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/sessions/5add7478-83a9-4e8c-bebc-674bce259684/trace - null null
2025-08-29 11:52:14.619 +02:00 [INF] Executing endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 11:52:14.648 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:52:14.668 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Cost", "t"."EndedUtc", "t"."Idx", "t"."Kind", "t"."PayloadJson", "t"."SessionId", "t"."StartedUtc"
FROM "TraceSteps" AS "t"
WHERE "t"."SessionId" = @__sessionId_0
ORDER BY "t"."StartedUtc"
LIMIT @__p_2 OFFSET @__p_1
2025-08-29 11:52:14.682 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:52:14.699 +02:00 [INF] Writing value of type 'TracePageDto' as Json.
2025-08-29 11:52:14.716 +02:00 [INF] Executed endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 11:52:14.722 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/sessions/5add7478-83a9-4e8c-bebc-674bce259684/trace - 200 null application/json; charset=utf-8 122.0975ms
2025-08-29 11:53:11.869 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 11:53:12.579 +02:00 [INF] Now listening on: http://localhost:5088
2025-08-29 11:53:12.587 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 11:53:12.590 +02:00 [INF] Hosting environment: Development
2025-08-29 11:53:12.592 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 11:54:11.914 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 11:54:11.914 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 11:54:12.093 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:54:12.093 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:54:12.104 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 210.308ms
2025-08-29 11:54:12.104 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 210.555ms
2025-08-29 11:54:12.125 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 11:54:12.125 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 11:54:12.145 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:54:12.183 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:54:12.237 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 11:54:12.238 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:54:12.990 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:54:12.990 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 11:54:13.079 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:54:13.079 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:54:13.102 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 11:54:13.104 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 11:54:13.127 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 11:54:13.127 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 11:54:13.138 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 1013.207ms
2025-08-29 11:54:13.139 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 1014.3355ms
2025-08-29 11:54:15.437 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 11:54:15.445 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:54:15.451 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 14.1217ms
2025-08-29 11:54:15.468 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 11:54:15.476 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:54:15.516 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 11:54:15.653 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:54:15.823 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:54:15.841 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 11:54:15.847 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 11:54:15.856 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 11:54:15.870 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 402.4779ms
2025-08-29 11:54:15.881 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 11:54:15.911 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:54:15.924 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 43.1435ms
2025-08-29 11:54:15.937 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 11:54:15.948 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:54:16.018 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 11:54:16.042 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 11:54:16.078 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 11:54:16.083 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=3jtDJ6LvaH-i-FszDkZM6A - null null
2025-08-29 11:54:16.085 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 147.8713ms
2025-08-29 11:54:16.096 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:54:16.114 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 11:54:16.118 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 11:54:19.871 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/5c2c23fd-b80c-4c4a-b064-29eb41226cf7/messages - null null
2025-08-29 11:54:19.883 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:54:19.888 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/5c2c23fd-b80c-4c4a-b064-29eb41226cf7/messages - 204 null null 16.3857ms
2025-08-29 11:54:19.897 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/5c2c23fd-b80c-4c4a-b064-29eb41226cf7/messages - application/json 67
2025-08-29 11:54:19.906 +02:00 [INF] CORS policy execution successful.
2025-08-29 11:54:19.913 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:54:19.940 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:54:19.976 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:54:19.993 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 11:54:19.998 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:54:20.001 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 11:54:20.032 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:54:20.053 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/5c2c23fd-b80c-4c4a-b064-29eb41226cf7/messages - 202 null application/json; charset=utf-8 155.8955ms
2025-08-29 11:54:20.117 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:54:20.243 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:54:21.219 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:54:22.743 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 412), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:58:15.984 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 11:58:17.590 +02:00 [INF] Now listening on: http://localhost:5089
2025-08-29 11:58:17.617 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 11:58:17.624 +02:00 [INF] Hosting environment: Development
2025-08-29 11:58:17.651 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 11:58:39.754 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/health/live - null null
2025-08-29 11:58:39.870 +02:00 [INF] Executing endpoint 'HTTP: GET /health/live'
2025-08-29 11:58:39.880 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:58:39.887 +02:00 [INF] Writing value of type 'String' as Json.
2025-08-29 11:58:39.906 +02:00 [INF] Executed endpoint 'HTTP: GET /health/live'
2025-08-29 11:58:39.916 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/health/live - 200 null application/json; charset=utf-8 179.7041ms
2025-08-29 11:58:50.663 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions - application/json 57
2025-08-29 11:58:50.679 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 11:58:52.289 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:58:52.788 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 11:58:52.817 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 11:58:52.843 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 11:58:52.859 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 11:58:52.883 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions - 201 null application/json; charset=utf-8 2220.3074ms
2025-08-29 11:59:01.878 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions/9d22e6d5-22ff-4b75-a760-9895d89d213b/messages - application/json 74
2025-08-29 11:59:01.893 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:59:01.982 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:59:02.027 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:59:02.038 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 11:59:02.044 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 11:59:02.046 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 11:59:02.067 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 11:59:02.075 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions/9d22e6d5-22ff-4b75-a760-9895d89d213b/messages - 202 null application/json; charset=utf-8 197.3575ms
2025-08-29 11:59:02.165 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:59:02.305 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:59:03.284 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 11:59:03.391 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 11:59:03.443 +02:00 [INF] Start processing HTTP request POST http://localhost:8970/tools/meme.generate:invoke
2025-08-29 11:59:03.458 +02:00 [INF] Sending HTTP request POST http://localhost:8970/tools/meme.generate:invoke
2025-08-29 11:59:03.651 +02:00 [INF] Received HTTP response headers after 180.6395ms - 404
2025-08-29 11:59:03.666 +02:00 [INF] End processing HTTP request after 232.8472ms - 404
2025-08-29 11:59:03.687 +02:00 [WRN] MCP meme.generate -> "NotFound": 
2025-08-29 11:59:05.370 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 376), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 11:59:26.384 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/sessions/9d22e6d5-22ff-4b75-a760-9895d89d213b/trace - null null
2025-08-29 11:59:26.403 +02:00 [INF] Executing endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 11:59:26.551 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 11:59:26.650 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Cost", "t"."EndedUtc", "t"."Idx", "t"."Kind", "t"."PayloadJson", "t"."SessionId", "t"."StartedUtc"
FROM "TraceSteps" AS "t"
WHERE "t"."SessionId" = @__sessionId_0
ORDER BY "t"."StartedUtc"
LIMIT @__p_2 OFFSET @__p_1
2025-08-29 11:59:26.671 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 11:59:26.746 +02:00 [INF] Writing value of type 'TracePageDto' as Json.
2025-08-29 11:59:26.762 +02:00 [INF] Executed endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 11:59:26.774 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/sessions/9d22e6d5-22ff-4b75-a760-9895d89d213b/trace - 200 null application/json; charset=utf-8 389.9667ms
2025-08-29 12:00:01.866 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 12:00:02.916 +02:00 [INF] Now listening on: http://localhost:5088
2025-08-29 12:00:02.927 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 12:00:02.931 +02:00 [INF] Hosting environment: Development
2025-08-29 12:00:02.933 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 12:00:09.530 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 12:00:09.530 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 12:00:09.851 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:00:09.851 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:00:09.880 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 381.7627ms
2025-08-29 12:00:09.903 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 405.6152ms
2025-08-29 12:00:09.978 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 12:00:09.978 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 12:00:10.013 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:00:10.013 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:00:10.109 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:00:10.109 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:00:11.043 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 12:00:11.044 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:00:11.140 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:00:11.140 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:00:11.166 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:00:11.168 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 12:00:11.203 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:00:11.204 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:00:11.286 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 1308.9883ms
2025-08-29 12:00:11.320 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 1342.6721ms
2025-08-29 12:00:12.467 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 12:00:12.478 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:00:12.484 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 17.6701ms
2025-08-29 12:00:12.493 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 12:00:12.513 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:00:12.558 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 12:00:12.760 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:00:13.041 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 12:00:13.061 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 12:00:13.071 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 12:00:13.087 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 12:00:13.108 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 614.582ms
2025-08-29 12:00:13.135 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 12:00:13.146 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:00:13.161 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 25.6498ms
2025-08-29 12:00:13.163 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 12:00:13.193 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:00:13.249 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:00:13.259 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 12:00:13.296 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 12:00:13.314 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=oyOGUte89E58xMmuOeARQg - null null
2025-08-29 12:00:13.318 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 154.925ms
2025-08-29 12:00:13.331 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:00:13.384 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:00:13.395 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 12:00:17.036 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/dce3caff-c493-499b-a2bb-fb077d45572d/messages - null null
2025-08-29 12:00:17.044 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:00:17.048 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/dce3caff-c493-499b-a2bb-fb077d45572d/messages - 204 null null 12.8366ms
2025-08-29 12:00:17.060 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/dce3caff-c493-499b-a2bb-fb077d45572d/messages - application/json 67
2025-08-29 12:00:17.072 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:00:17.084 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:00:17.128 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:00:17.205 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:00:17.223 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 12:00:17.226 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:00:17.230 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 12:00:17.247 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:00:17.280 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/dce3caff-c493-499b-a2bb-fb077d45572d/messages - 202 null application/json; charset=utf-8 220.2211ms
2025-08-29 12:00:17.495 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:00:17.659 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:00:18.739 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:00:18.788 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:00:18.842 +02:00 [INF] Start processing HTTP request POST http://localhost:8970/tools/meme.generate:invoke
2025-08-29 12:00:18.866 +02:00 [INF] Sending HTTP request POST http://localhost:8970/tools/meme.generate:invoke
2025-08-29 12:00:18.893 +02:00 [INF] Received HTTP response headers after 9.5197ms - 404
2025-08-29 12:00:18.900 +02:00 [INF] End processing HTTP request after 63.5964ms - 404
2025-08-29 12:00:18.914 +02:00 [WRN] MCP meme.generate -> "NotFound": 
2025-08-29 12:00:20.196 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 389), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:08:36.209 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 12:08:37.565 +02:00 [INF] Now listening on: http://localhost:5089
2025-08-29 12:08:37.579 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 12:08:37.592 +02:00 [INF] Hosting environment: Development
2025-08-29 12:08:37.596 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 12:08:38.059 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/health/live - null null
2025-08-29 12:08:38.944 +02:00 [INF] Executing endpoint 'HTTP: GET /health/live'
2025-08-29 12:08:38.971 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:08:39.025 +02:00 [INF] Writing value of type 'String' as Json.
2025-08-29 12:08:39.082 +02:00 [INF] Executed endpoint 'HTTP: GET /health/live'
2025-08-29 12:08:39.106 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/health/live - 200 null application/json; charset=utf-8 1304.8205ms
2025-08-29 12:08:51.486 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions - application/json 57
2025-08-29 12:08:51.499 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 12:08:54.882 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:08:55.210 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 12:08:55.236 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 12:08:55.249 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 12:08:55.262 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 12:08:55.281 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions - 201 null application/json; charset=utf-8 3795.2984ms
2025-08-29 12:09:01.502 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions/847617cb-6756-4300-b3cd-28ce65730bc8/messages - application/json 74
2025-08-29 12:09:01.524 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:09:01.608 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:09:01.656 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:09:01.667 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 12:09:01.671 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:09:01.675 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 12:09:01.690 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:09:01.700 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions/847617cb-6756-4300-b3cd-28ce65730bc8/messages - 202 null application/json; charset=utf-8 197.9864ms
2025-08-29 12:09:01.784 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:09:03.114 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:09:04.316 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:09:04.380 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:09:04.402 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 12:09:09.712 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 367), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:09:24.306 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/sessions/847617cb-6756-4300-b3cd-28ce65730bc8/trace - null null
2025-08-29 12:09:24.328 +02:00 [INF] Executing endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 12:09:24.359 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:09:24.399 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Cost", "t"."EndedUtc", "t"."Idx", "t"."Kind", "t"."PayloadJson", "t"."SessionId", "t"."StartedUtc"
FROM "TraceSteps" AS "t"
WHERE "t"."SessionId" = @__sessionId_0
ORDER BY "t"."StartedUtc"
LIMIT @__p_2 OFFSET @__p_1
2025-08-29 12:09:24.412 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:09:24.441 +02:00 [INF] Writing value of type 'TracePageDto' as Json.
2025-08-29 12:09:24.461 +02:00 [INF] Executed endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 12:09:24.474 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/sessions/847617cb-6756-4300-b3cd-28ce65730bc8/trace - 200 null application/json; charset=utf-8 168.1439ms
2025-08-29 12:11:34.067 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 12:11:34.635 +02:00 [INF] Now listening on: http://localhost:5088
2025-08-29 12:11:34.643 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 12:11:34.646 +02:00 [INF] Hosting environment: Development
2025-08-29 12:11:34.648 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 12:11:44.140 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 12:11:44.139 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 12:11:44.298 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:11:44.298 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:11:44.309 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 192.0357ms
2025-08-29 12:11:44.310 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 193.5947ms
2025-08-29 12:11:44.324 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 12:11:44.324 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 12:11:44.368 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:11:44.371 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:11:44.394 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:11:44.394 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:11:45.197 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 12:11:45.204 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:11:45.278 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:11:45.278 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:11:45.292 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:11:45.293 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 12:11:45.306 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:11:45.306 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:11:45.318 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 994.1602ms
2025-08-29 12:11:45.318 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 994.1602ms
2025-08-29 12:11:46.392 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 12:11:46.400 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:11:46.405 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 13.0197ms
2025-08-29 12:11:46.422 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 12:11:46.431 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:11:46.535 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 12:11:46.791 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:11:47.010 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 12:11:47.020 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 12:11:47.025 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 12:11:47.037 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 12:11:47.045 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 624.7134ms
2025-08-29 12:11:47.053 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 12:11:47.073 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:11:47.083 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 30.1237ms
2025-08-29 12:11:47.085 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 12:11:47.126 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:11:47.151 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:11:47.157 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 12:11:47.216 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 12:11:47.220 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=snobiOYPf4qMo9X5zj2JSg - null null
2025-08-29 12:11:47.238 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 153.0846ms
2025-08-29 12:11:47.254 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:11:47.270 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:11:47.283 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 12:11:51.481 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/4d2450e9-9f65-404d-a7d9-b971e9381294/messages - null null
2025-08-29 12:11:51.490 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:11:51.494 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/4d2450e9-9f65-404d-a7d9-b971e9381294/messages - 204 null null 13.4668ms
2025-08-29 12:11:51.502 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/4d2450e9-9f65-404d-a7d9-b971e9381294/messages - application/json 67
2025-08-29 12:11:51.510 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:11:51.521 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:11:51.557 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:11:51.632 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:11:51.647 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 12:11:51.650 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:11:51.652 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 12:11:51.664 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:11:51.675 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/4d2450e9-9f65-404d-a7d9-b971e9381294/messages - 202 null application/json; charset=utf-8 173.3595ms
2025-08-29 12:11:51.827 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:11:52.026 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:11:52.914 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:11:52.953 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:11:52.982 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 12:11:54.383 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 380), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:19:53.301 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 12:19:53.790 +02:00 [INF] Now listening on: http://localhost:5088
2025-08-29 12:19:53.797 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 12:19:53.798 +02:00 [INF] Hosting environment: Development
2025-08-29 12:19:53.801 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 12:19:58.144 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 12:19:58.145 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 12:19:58.274 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:19:58.274 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:19:58.308 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 178.9836ms
2025-08-29 12:19:58.308 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 178.9847ms
2025-08-29 12:19:58.392 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 12:19:58.392 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 12:19:58.406 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:19:58.407 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:19:58.478 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:19:58.724 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:19:59.616 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:19:59.616 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 12:19:59.705 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:19:59.705 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:19:59.730 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 12:19:59.740 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:19:59.760 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:19:59.760 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:19:59.772 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 1379.9221ms
2025-08-29 12:19:59.773 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 1381.5089ms
2025-08-29 12:20:00.933 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 12:20:00.941 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:20:00.946 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 13.0287ms
2025-08-29 12:20:00.952 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 12:20:00.959 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:20:00.996 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 12:20:01.134 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:20:01.306 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 12:20:01.330 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 12:20:01.337 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 12:20:01.351 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 12:20:01.365 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 412.5027ms
2025-08-29 12:20:01.390 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 12:20:01.410 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:20:01.431 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 42.6303ms
2025-08-29 12:20:01.437 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 12:20:01.467 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:20:01.494 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:20:01.504 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 12:20:01.530 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 12:20:01.535 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=sOe6eAC4KVzd1onQQK-Rmg - null null
2025-08-29 12:20:01.584 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 145.1661ms
2025-08-29 12:20:01.602 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:20:01.625 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:20:01.632 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 12:20:06.024 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/af7019f5-10cd-4a90-8fd4-2e43d63c14b9/messages - null null
2025-08-29 12:20:06.032 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:20:06.038 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/af7019f5-10cd-4a90-8fd4-2e43d63c14b9/messages - 204 null null 13.8446ms
2025-08-29 12:20:06.046 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/af7019f5-10cd-4a90-8fd4-2e43d63c14b9/messages - application/json 67
2025-08-29 12:20:06.061 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:20:06.069 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:20:06.109 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:20:06.176 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:20:06.189 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 12:20:06.192 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:20:06.195 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 12:20:06.203 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:20:06.211 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/af7019f5-10cd-4a90-8fd4-2e43d63c14b9/messages - 202 null application/json; charset=utf-8 164.9524ms
2025-08-29 12:20:06.350 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:20:06.800 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:20:07.728 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:20:07.755 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:20:07.769 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 12:20:08.931 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 308), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:22:25.256 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/af7019f5-10cd-4a90-8fd4-2e43d63c14b9/messages - null null
2025-08-29 12:22:25.265 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:22:25.271 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/af7019f5-10cd-4a90-8fd4-2e43d63c14b9/messages - 204 null null 14.8168ms
2025-08-29 12:22:25.277 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/af7019f5-10cd-4a90-8fd4-2e43d63c14b9/messages - application/json 67
2025-08-29 12:22:25.290 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:22:25.298 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:22:25.310 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:22:25.332 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:22:25.349 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 12:22:25.350 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:22:25.361 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 12:22:25.392 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:22:25.399 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:22:25.422 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:22:25.425 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/af7019f5-10cd-4a90-8fd4-2e43d63c14b9/messages - 202 null application/json; charset=utf-8 147.4188ms
2025-08-29 12:22:26.268 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:22:26.278 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:22:26.286 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 12:22:27.638 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 381), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:24:58.413 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 12:24:59.218 +02:00 [INF] Now listening on: http://localhost:5089
2025-08-29 12:24:59.229 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 12:24:59.231 +02:00 [INF] Hosting environment: Development
2025-08-29 12:24:59.233 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 12:24:59.729 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/health/live - null null
2025-08-29 12:24:59.876 +02:00 [INF] Executing endpoint 'HTTP: GET /health/live'
2025-08-29 12:24:59.896 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:24:59.905 +02:00 [INF] Writing value of type 'String' as Json.
2025-08-29 12:24:59.929 +02:00 [INF] Executed endpoint 'HTTP: GET /health/live'
2025-08-29 12:24:59.938 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/health/live - 200 null application/json; charset=utf-8 237.2662ms
2025-08-29 12:25:12.272 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions - application/json 57
2025-08-29 12:25:12.285 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 12:25:13.741 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:25:14.044 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 12:25:14.074 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 12:25:14.087 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 12:25:14.108 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 12:25:14.119 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions - 201 null application/json; charset=utf-8 1847.8053ms
2025-08-29 12:25:21.360 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions/fcd802e8-f24d-41c6-a974-1ace28cb8f12/messages - application/json 74
2025-08-29 12:25:21.373 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:25:21.458 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:25:21.497 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:25:21.507 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 12:25:21.513 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:25:21.515 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 12:25:21.533 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:25:21.541 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions/fcd802e8-f24d-41c6-a974-1ace28cb8f12/messages - 202 null application/json; charset=utf-8 180.5143ms
2025-08-29 12:25:21.644 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:25:21.836 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:25:22.845 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:25:22.883 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:25:22.894 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 12:25:28.391 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 439), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:25:45.840 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/sessions/fcd802e8-f24d-41c6-a974-1ace28cb8f12/trace - null null
2025-08-29 12:25:45.850 +02:00 [INF] Executing endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 12:25:45.867 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:25:45.885 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Cost", "t"."EndedUtc", "t"."Idx", "t"."Kind", "t"."PayloadJson", "t"."SessionId", "t"."StartedUtc"
FROM "TraceSteps" AS "t"
WHERE "t"."SessionId" = @__sessionId_0
ORDER BY "t"."StartedUtc"
LIMIT @__p_2 OFFSET @__p_1
2025-08-29 12:25:45.897 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:25:45.908 +02:00 [INF] Writing value of type 'TracePageDto' as Json.
2025-08-29 12:25:45.917 +02:00 [INF] Executed endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 12:25:45.929 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/sessions/fcd802e8-f24d-41c6-a974-1ace28cb8f12/trace - 200 null application/json; charset=utf-8 89.1032ms
2025-08-29 12:34:28.046 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 12:34:28.982 +02:00 [INF] Now listening on: http://localhost:5089
2025-08-29 12:34:28.988 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 12:34:28.990 +02:00 [INF] Hosting environment: Development
2025-08-29 12:34:28.991 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 12:34:39.358 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/health/live - null null
2025-08-29 12:34:39.496 +02:00 [INF] Executing endpoint 'HTTP: GET /health/live'
2025-08-29 12:34:39.508 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:34:39.523 +02:00 [INF] Writing value of type 'String' as Json.
2025-08-29 12:34:39.539 +02:00 [INF] Executed endpoint 'HTTP: GET /health/live'
2025-08-29 12:34:39.556 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/health/live - 200 null application/json; charset=utf-8 224.7751ms
2025-08-29 12:34:48.059 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions - application/json 57
2025-08-29 12:34:48.071 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 12:34:49.699 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:34:50.363 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 12:34:50.493 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 12:34:50.511 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 12:34:50.555 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 12:34:50.587 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions - 201 null application/json; charset=utf-8 2522.3382ms
2025-08-29 12:34:59.954 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5089/sessions/ce7174e2-e147-4143-b322-2fc8fc098dd5/messages - application/json 74
2025-08-29 12:34:59.968 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:35:00.041 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:35:00.075 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:35:00.085 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 12:35:00.091 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:35:00.097 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 12:35:00.110 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:35:00.117 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5089/sessions/ce7174e2-e147-4143-b322-2fc8fc098dd5/messages - 202 null application/json; charset=utf-8 163.5221ms
2025-08-29 12:35:00.187 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:35:01.135 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:35:02.058 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:35:02.102 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:35:02.125 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 12:35:07.238 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 440), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:35:26.895 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5089/sessions/ce7174e2-e147-4143-b322-2fc8fc098dd5/trace - null null
2025-08-29 12:35:26.905 +02:00 [INF] Executing endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 12:35:26.928 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:35:26.943 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Cost", "t"."EndedUtc", "t"."Idx", "t"."Kind", "t"."PayloadJson", "t"."SessionId", "t"."StartedUtc"
FROM "TraceSteps" AS "t"
WHERE "t"."SessionId" = @__sessionId_0
ORDER BY "t"."StartedUtc"
LIMIT @__p_2 OFFSET @__p_1
2025-08-29 12:35:26.961 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:35:26.974 +02:00 [INF] Writing value of type 'TracePageDto' as Json.
2025-08-29 12:35:26.988 +02:00 [INF] Executed endpoint 'HTTP: GET /sessions/{id:guid}/trace'
2025-08-29 12:35:27.002 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5089/sessions/ce7174e2-e147-4143-b322-2fc8fc098dd5/trace - 200 null application/json; charset=utf-8 107.2446ms
2025-08-29 12:36:10.536 +02:00 [INF] User profile is available. Using 'C:\Users\DiegoÁlvarezAllas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 12:36:11.729 +02:00 [INF] Now listening on: http://localhost:5088
2025-08-29 12:36:11.739 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 12:36:11.742 +02:00 [INF] Hosting environment: Development
2025-08-29 12:36:11.744 +02:00 [INF] Content root path: C:\Tokiota\PoCs\AutoAgentes\src\AutoAgentes.Api
2025-08-29 12:36:15.758 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 12:36:15.741 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 12:36:16.304 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:36:16.304 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:36:16.343 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 633.1778ms
2025-08-29 12:36:16.343 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 633.138ms
2025-08-29 12:36:16.825 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 12:36:16.830 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 12:36:16.880 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:36:16.881 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:36:16.986 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:36:16.986 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:36:18.299 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 12:36:18.305 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:36:18.432 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:36:18.432 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:36:18.448 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:36:18.451 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 12:36:18.482 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:36:18.485 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:36:18.502 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 1677.0593ms
2025-08-29 12:36:18.514 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 1683.3911ms
2025-08-29 12:36:19.505 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 12:36:19.521 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:36:19.530 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 25.0348ms
2025-08-29 12:36:19.551 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 12:36:19.569 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:36:19.598 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 12:36:19.868 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:36:20.095 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 12:36:20.118 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 12:36:20.139 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 12:36:20.152 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 12:36:20.179 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 627.264ms
2025-08-29 12:36:20.220 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 12:36:20.236 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:36:20.253 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 33.1639ms
2025-08-29 12:36:20.255 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 12:36:20.293 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:36:20.330 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:36:20.355 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 12:36:20.459 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 12:36:20.471 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=lahX3786Dwww04SuHc5wvw - null null
2025-08-29 12:36:20.499 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 243.6171ms
2025-08-29 12:36:20.528 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:36:20.579 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:36:20.734 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 12:36:21.481 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/8ec59e5f-a122-4550-b614-5466ee8e728d/messages - null null
2025-08-29 12:36:21.491 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:36:21.498 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/8ec59e5f-a122-4550-b614-5466ee8e728d/messages - 204 null null 16.6595ms
2025-08-29 12:36:21.508 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/8ec59e5f-a122-4550-b614-5466ee8e728d/messages - application/json 67
2025-08-29 12:36:21.526 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:36:21.565 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:36:21.657 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:36:21.720 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:36:21.761 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 12:36:21.769 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:36:21.792 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 12:36:21.901 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:36:21.935 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/8ec59e5f-a122-4550-b614-5466ee8e728d/messages - 202 null application/json; charset=utf-8 427.2581ms
2025-08-29 12:36:22.275 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:36:22.494 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:36:23.509 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:36:23.560 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:36:23.599 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 12:36:23.784 +02:00 [WRN] WebSocket estándar falló, intentando con HTTP upgrade manual: The server returned status code '400' when status code '101' was expected.
2025-08-29 12:36:23.841 +02:00 [INF] Intentando HTTP upgrade a WebSocket en: "http://localhost:8970/ws"
2025-08-29 12:36:25.577 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 655), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:48:18.568 +02:00 [INF] Executed endpoint '/hubs/trace'
2025-08-29 12:48:18.578 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/hubs/trace?id=lahX3786Dwww04SuHc5wvw - 101 null null 718109.8726ms
2025-08-29 12:48:18.868 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents - null null
2025-08-29 12:48:18.868 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/mcp/servers - null null
2025-08-29 12:48:18.879 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:18.891 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:18.899 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents - 204 null null 31.0504ms
2025-08-29 12:48:18.944 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents - application/json null
2025-08-29 12:48:18.908 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/mcp/servers - 204 null null 39.9318ms
2025-08-29 12:48:18.987 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:19.029 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/mcp/servers - application/json null
2025-08-29 12:48:19.048 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/'
2025-08-29 12:48:19.061 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:19.101 +02:00 [INF] Executing endpoint 'HTTP: GET /mcp/servers'
2025-08-29 12:48:19.148 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:48:19.152 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
ORDER BY "a"."CreatedUtc"
2025-08-29 12:48:19.180 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:48:19.199 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:48:19.230 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:48:19.230 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:48:19.247 +02:00 [INF] Executed endpoint 'HTTP: GET /mcp/servers'
2025-08-29 12:48:19.259 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/'
2025-08-29 12:48:19.269 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/mcp/servers - 200 null application/json; charset=utf-8 241.4593ms
2025-08-29 12:48:19.298 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents - 200 null application/json; charset=utf-8 354.2195ms
2025-08-29 12:48:39.388 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/new - null null
2025-08-29 12:48:39.389 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/new/bindings - null null
2025-08-29 12:48:39.402 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:39.412 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:39.430 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/new - 204 null null 41.5795ms
2025-08-29 12:48:39.445 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/new/bindings - 204 null null 56.0556ms
2025-08-29 12:48:39.462 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/new - application/json null
2025-08-29 12:48:39.476 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/new/bindings - application/json null
2025-08-29 12:48:39.526 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:39.534 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:39.561 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/new - 404 0 null 98.6785ms
2025-08-29 12:48:39.640 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/new/bindings - 404 0 null 164.3594ms
2025-08-29 12:48:39.885 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5088/agents/new, Response status code: 404
2025-08-29 12:48:39.928 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5088/agents/new/bindings, Response status code: 404
2025-08-29 12:48:40.610 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/new - application/json null
2025-08-29 12:48:40.619 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:40.629 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/new - 404 0 null 18.5901ms
2025-08-29 12:48:40.640 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5088/agents/new, Response status code: 404
2025-08-29 12:48:40.705 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/new/bindings - application/json null
2025-08-29 12:48:40.729 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:40.765 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/new/bindings - 404 0 null 60.5493ms
2025-08-29 12:48:40.836 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5088/agents/new/bindings, Response status code: 404
2025-08-29 12:48:42.647 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/new - application/json null
2025-08-29 12:48:42.657 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:42.664 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/new - 404 0 null 17.0098ms
2025-08-29 12:48:42.670 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5088/agents/new, Response status code: 404
2025-08-29 12:48:42.790 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/new/bindings - application/json null
2025-08-29 12:48:42.802 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:42.820 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/new/bindings - 404 0 null 30.5298ms
2025-08-29 12:48:42.836 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5088/agents/new/bindings, Response status code: 404
2025-08-29 12:48:46.678 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/new - null null
2025-08-29 12:48:46.684 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:46.693 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/new - 204 null null 14.9954ms
2025-08-29 12:48:46.717 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/new - application/json null
2025-08-29 12:48:46.735 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:46.757 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/new - 404 0 null 52.8863ms
2025-08-29 12:48:46.773 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5088/agents/new, Response status code: 404
2025-08-29 12:48:46.840 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/new/bindings - null null
2025-08-29 12:48:46.874 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:46.927 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/new/bindings - 204 null null 86.8826ms
2025-08-29 12:48:47.015 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/new/bindings - application/json null
2025-08-29 12:48:47.050 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:47.101 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/new/bindings - 404 0 null 87.0209ms
2025-08-29 12:48:47.335 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5088/agents/new/bindings, Response status code: 404
2025-08-29 12:48:48.209 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/mcp/tools/all - null null
2025-08-29 12:48:48.222 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:48.236 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/mcp/tools/all - 204 null null 27.6293ms
2025-08-29 12:48:48.270 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/mcp/tools/all - application/json null
2025-08-29 12:48:48.286 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:48.308 +02:00 [INF] Executing endpoint 'HTTP: GET /mcp/tools/all'
2025-08-29 12:48:48.345 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:48:48.740 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:48:49.053 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:48:49.185 +02:00 [INF] Executed endpoint 'HTTP: GET /mcp/tools/all'
2025-08-29 12:48:49.244 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/mcp/tools/all - 200 null application/json; charset=utf-8 974.1778ms
2025-08-29 12:48:53.090 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents - null null
2025-08-29 12:48:53.131 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:53.142 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents - 204 null null 52.0857ms
2025-08-29 12:48:53.173 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents - application/json null
2025-08-29 12:48:53.206 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:53.223 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/'
2025-08-29 12:48:53.275 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
ORDER BY "a"."CreatedUtc"
2025-08-29 12:48:53.676 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:48:53.703 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:48:53.731 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/'
2025-08-29 12:48:53.758 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents - 200 null application/json; charset=utf-8 584.5858ms
2025-08-29 12:48:54.045 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 12:48:54.049 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 12:48:54.058 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:54.071 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:54.092 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 47.1964ms
2025-08-29 12:48:54.247 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 12:48:54.189 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 140.9998ms
2025-08-29 12:48:54.302 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:54.390 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 12:48:54.567 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:48:54.604 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:54.625 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:48:54.641 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:48:54.728 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:48:54.748 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 12:48:54.778 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 12:48:54.824 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:48:54.847 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:48:54.860 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:48:54.890 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 643.3809ms
2025-08-29 12:48:55.196 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:48:55.225 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 834.3983ms
2025-08-29 12:48:56.563 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 12:48:56.572 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:56.578 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 15.0309ms
2025-08-29 12:48:56.598 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 12:48:56.614 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:56.635 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 12:48:56.683 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:48:56.974 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 12:48:57.004 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 12:48:57.104 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 12:48:57.175 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 12:48:57.204 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 605.9455ms
2025-08-29 12:48:57.238 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 12:48:57.259 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:57.279 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 40.748ms
2025-08-29 12:48:57.283 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 12:48:57.406 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:57.463 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:48:57.481 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 12:48:57.504 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 12:48:57.514 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=zLc54nD0I2DUJfYtuhcAfQ - null null
2025-08-29 12:48:57.544 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 261.8485ms
2025-08-29 12:48:57.559 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:57.649 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:48:57.754 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 12:48:59.142 +02:00 [INF] Executed endpoint '/hubs/trace'
2025-08-29 12:48:59.156 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/hubs/trace?id=zLc54nD0I2DUJfYtuhcAfQ - 101 null null 1642.319ms
2025-08-29 12:48:59.407 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 12:48:59.407 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 12:48:59.417 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:59.428 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:59.436 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 29.5616ms
2025-08-29 12:48:59.458 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 51.492ms
2025-08-29 12:48:59.520 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 12:48:59.495 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 12:48:59.590 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:59.571 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:48:59.633 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:48:59.664 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:48:59.710 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:48:59.728 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 12:48:59.772 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:48:59.927 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:49:00.059 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 12:49:00.145 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:49:00.346 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 12:49:00.612 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 12:49:00.623 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 1127.9669ms
2025-08-29 12:49:00.788 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 1269.7771ms
2025-08-29 12:49:03.931 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/mcp/tools/all - null null
2025-08-29 12:49:03.931 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/mcp/servers - null null
2025-08-29 12:49:03.941 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:49:03.955 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:49:03.965 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/mcp/tools/all - 204 null null 34.2828ms
2025-08-29 12:49:03.984 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/mcp/servers - 204 null null 53.3305ms
2025-08-29 12:49:03.998 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/mcp/tools/all - application/json null
2025-08-29 12:49:04.020 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/mcp/servers - application/json null
2025-08-29 12:49:04.035 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:49:04.064 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:49:04.101 +02:00 [INF] Executing endpoint 'HTTP: GET /mcp/tools/all'
2025-08-29 12:49:04.125 +02:00 [INF] Executing endpoint 'HTTP: GET /mcp/servers'
2025-08-29 12:49:04.151 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:49:04.161 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:49:04.494 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:49:04.970 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:49:05.204 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:49:05.162 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:49:05.230 +02:00 [INF] Executed endpoint 'HTTP: GET /mcp/servers'
2025-08-29 12:49:05.246 +02:00 [INF] Executed endpoint 'HTTP: GET /mcp/tools/all'
2025-08-29 12:49:05.260 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/mcp/servers - 200 null application/json; charset=utf-8 1240.0768ms
2025-08-29 12:49:05.280 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/mcp/tools/all - 200 null application/json; charset=utf-8 1281.5217ms
2025-08-29 12:49:15.752 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 12:49:15.758 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:49:15.764 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 12.2832ms
2025-08-29 12:49:15.772 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 12:49:15.783 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:49:15.793 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 12:49:15.824 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:49:15.897 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 12:49:15.958 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 12:49:15.986 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 12:49:16.028 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 12:49:16.058 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 285.1772ms
2025-08-29 12:49:16.185 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 12:49:16.240 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:49:16.262 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 83.1059ms
2025-08-29 12:49:16.272 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 12:49:16.309 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:49:16.326 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:49:16.342 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 12:49:16.383 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 12:49:16.429 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=z42aVi7LYRANPJs-GbOW9Q - null null
2025-08-29 12:49:16.441 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 168.6903ms
2025-08-29 12:49:16.534 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:49:16.635 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 12:49:16.649 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 12:49:18.528 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/9bc0396e-01e4-4aaa-8fd7-69ba1b8f1b78/messages - null null
2025-08-29 12:49:18.540 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:49:18.545 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/9bc0396e-01e4-4aaa-8fd7-69ba1b8f1b78/messages - 204 null null 17.2773ms
2025-08-29 12:49:18.552 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/9bc0396e-01e4-4aaa-8fd7-69ba1b8f1b78/messages - application/json 18
2025-08-29 12:49:18.565 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:49:18.576 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:49:18.591 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 12:49:18.617 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:49:18.636 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 12:49:18.637 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 12:49:18.653 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 12:49:18.686 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:49:18.699 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 12:49:18.730 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:49:18.761 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/9bc0396e-01e4-4aaa-8fd7-69ba1b8f1b78/messages - 202 null application/json; charset=utf-8 208.7104ms
2025-08-29 12:49:19.519 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 12:49:19.532 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 12:49:19.539 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 12:49:19.553 +02:00 [WRN] WebSocket estándar falló, intentando con HTTP upgrade manual: The server returned status code '400' when status code '101' was expected.
2025-08-29 12:49:19.559 +02:00 [INF] Intentando HTTP upgrade a WebSocket en: "http://localhost:8970/ws"
2025-08-29 12:49:19.986 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 46), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 12:49:53.722 +02:00 [INF] Executed endpoint '/hubs/trace'
2025-08-29 12:49:53.814 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/hubs/trace?id=z42aVi7LYRANPJs-GbOW9Q - 101 null null 37385.4677ms
2025-08-29 12:50:01.414 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents - null null
2025-08-29 12:50:01.428 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:50:01.435 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents - 204 null null 20.5859ms
2025-08-29 12:50:01.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents - application/json null
2025-08-29 12:50:01.486 +02:00 [INF] CORS policy execution successful.
2025-08-29 12:50:01.516 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/'
2025-08-29 12:50:01.543 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
ORDER BY "a"."CreatedUtc"
2025-08-29 12:50:01.575 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 12:50:01.714 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 12:50:01.789 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/'
2025-08-29 12:50:01.837 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents - 200 null application/json; charset=utf-8 368.5376ms
2025-08-29 15:32:41.912 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents - null null
2025-08-29 15:32:41.918 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:41.922 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents - 204 null null 10.452ms
2025-08-29 15:32:41.930 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents - application/json null
2025-08-29 15:32:41.942 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:41.948 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/'
2025-08-29 15:32:41.964 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
ORDER BY "a"."CreatedUtc"
2025-08-29 15:32:41.972 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 15:32:41.979 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 15:32:41.987 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/'
2025-08-29 15:32:41.999 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents - 200 null application/json; charset=utf-8 69.4996ms
2025-08-29 15:32:48.904 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents - null null
2025-08-29 15:32:48.904 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/mcp/servers - null null
2025-08-29 15:32:48.910 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:48.918 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:48.924 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents - 204 null null 20.8445ms
2025-08-29 15:32:48.935 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/mcp/servers - 204 null null 30.4535ms
2025-08-29 15:32:48.942 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents - application/json null
2025-08-29 15:32:48.949 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/mcp/servers - application/json null
2025-08-29 15:32:48.959 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:48.968 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:48.972 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/'
2025-08-29 15:32:48.985 +02:00 [INF] Executing endpoint 'HTTP: GET /mcp/servers'
2025-08-29 15:32:48.993 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
ORDER BY "a"."CreatedUtc"
2025-08-29 15:32:49.002 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 15:32:49.009 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 15:32:49.018 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 15:32:49.023 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 15:32:49.033 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 15:32:49.041 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/'
2025-08-29 15:32:49.051 +02:00 [INF] Executed endpoint 'HTTP: GET /mcp/servers'
2025-08-29 15:32:49.059 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents - 200 null application/json; charset=utf-8 117.838ms
2025-08-29 15:32:49.071 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/mcp/servers - 200 null application/json; charset=utf-8 122.7661ms
2025-08-29 15:32:51.233 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 15:32:51.234 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 15:32:51.245 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:51.250 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:51.256 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 23.0599ms
2025-08-29 15:32:51.261 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 27.0678ms
2025-08-29 15:32:51.267 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 15:32:51.281 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 15:32:51.290 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:51.297 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:51.313 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 15:32:51.319 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 15:32:51.338 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 15:32:51.345 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 15:32:51.351 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 15:32:51.393 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 15:32:51.376 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 15:32:51.413 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 15:32:51.423 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 15:32:51.444 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 176.8424ms
2025-08-29 15:32:51.457 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 15:32:51.517 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 235.8312ms
2025-08-29 15:32:52.768 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions - null null
2025-08-29 15:32:52.778 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:52.782 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions - 204 null null 13.6563ms
2025-08-29 15:32:52.787 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions - application/json 50
2025-08-29 15:32:52.792 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:52.796 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 15:32:52.803 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 15:32:52.835 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 15:32:52.851 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 15:32:52.864 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 15:32:52.878 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 15:32:52.887 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions - 201 null application/json; charset=utf-8 100.1572ms
2025-08-29 15:32:52.906 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 15:32:52.921 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:52.984 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 77.9559ms
2025-08-29 15:32:52.986 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 15:32:53.040 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:53.055 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 15:32:53.071 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 15:32:53.093 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 15:32:53.103 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5088/hubs/trace?id=PWdGXYSfbgKrJ3A36kgycw - null null
2025-08-29 15:32:53.106 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 119.4243ms
2025-08-29 15:32:53.130 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:53.174 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 15:32:53.182 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 15:32:58.231 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5088/sessions/0a0444bd-19dc-45f2-89d5-2934f388220e/messages - null null
2025-08-29 15:32:58.238 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:58.243 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5088/sessions/0a0444bd-19dc-45f2-89d5-2934f388220e/messages - 204 null null 11.3ms
2025-08-29 15:32:58.249 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5088/sessions/0a0444bd-19dc-45f2-89d5-2934f388220e/messages - application/json 67
2025-08-29 15:32:58.255 +02:00 [INF] CORS policy execution successful.
2025-08-29 15:32:58.266 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 15:32:58.273 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 15:32:58.296 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 53), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 15:32:58.309 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 15:32:58.315 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 15:32:58.319 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 15:32:58.342 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 15:32:58.342 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 15:32:58.351 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5088/sessions/0a0444bd-19dc-45f2-89d5-2934f388220e/messages - 202 null application/json; charset=utf-8 101.9413ms
2025-08-29 15:32:58.368 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 15:32:59.146 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 15:32:59.155 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 15:32:59.160 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 15:32:59.167 +02:00 [WRN] WebSocket estándar falló, intentando con HTTP upgrade manual: The server returned status code '400' when status code '101' was expected.
2025-08-29 15:32:59.172 +02:00 [INF] Intentando HTTP upgrade a WebSocket en: "http://localhost:8970/ws"
2025-08-29 15:33:00.849 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 688), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 15:47:17.407 +02:00 [INF] Application is shutting down...
2025-08-29 15:47:17.411 +02:00 [INF] Executed endpoint '/hubs/trace'
2025-08-29 15:47:17.417 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5088/hubs/trace?id=PWdGXYSfbgKrJ3A36kgycw - 101 null null 864314.153ms
2025-08-29 16:57:37.982 +02:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-29 16:57:38.514 +02:00 [INF] Now listening on: http://localhost:5085
2025-08-29 16:57:38.518 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-29 16:57:38.519 +02:00 [INF] Hosting environment: Development
2025-08-29 16:57:38.520 +02:00 [INF] Content root path: D:\BearDevelopment\AutoAgent\autoagent_back\src\AutoAgentes.Api
2025-08-29 16:58:58.898 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/mcp/servers - null null
2025-08-29 16:58:58.898 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/agents - null null
2025-08-29 16:58:59.003 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:58:59.003 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:58:59.043 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/agents - 204 null null 159.5274ms
2025-08-29 16:58:59.043 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/mcp/servers - 204 null null 159.5279ms
2025-08-29 16:58:59.065 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/mcp/servers - application/json null
2025-08-29 16:58:59.065 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/agents - application/json null
2025-08-29 16:58:59.082 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:58:59.082 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:58:59.112 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/'
2025-08-29 16:58:59.112 +02:00 [INF] Executing endpoint 'HTTP: GET /mcp/servers'
2025-08-29 16:59:00.531 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 16:59:00.538 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
ORDER BY "a"."CreatedUtc"
2025-08-29 16:59:00.607 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 16:59:00.607 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 16:59:00.622 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 16:59:00.624 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 16:59:00.644 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/'
2025-08-29 16:59:00.644 +02:00 [INF] Executed endpoint 'HTTP: GET /mcp/servers'
2025-08-29 16:59:00.656 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/agents - 200 null application/json; charset=utf-8 1590.9878ms
2025-08-29 16:59:00.656 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/mcp/servers - 200 null application/json; charset=utf-8 1590.943ms
2025-08-29 16:59:03.294 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/mcp/tools/all - null null
2025-08-29 16:59:03.301 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:03.308 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/mcp/tools/all - 204 null null 14.4057ms
2025-08-29 16:59:03.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/mcp/tools/all - application/json null
2025-08-29 16:59:03.323 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:03.335 +02:00 [INF] Executing endpoint 'HTTP: GET /mcp/tools/all'
2025-08-29 16:59:03.383 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 16:59:04.239 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 16:59:04.250 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 16:59:04.261 +02:00 [INF] Executed endpoint 'HTTP: GET /mcp/tools/all'
2025-08-29 16:59:04.270 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/mcp/tools/all - 200 null application/json; charset=utf-8 954.7117ms
2025-08-29 16:59:08.308 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 16:59:08.308 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 16:59:08.316 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:08.322 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:08.326 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 18.5338ms
2025-08-29 16:59:08.331 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 23.3716ms
2025-08-29 16:59:08.337 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 16:59:08.343 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 16:59:08.349 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:08.352 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:08.357 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 16:59:08.360 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 16:59:08.394 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 16:59:08.394 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 16:59:08.406 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 16:59:08.411 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 16:59:08.411 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 16:59:08.416 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 16:59:08.421 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 16:59:08.424 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 87.0009ms
2025-08-29 16:59:08.430 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 16:59:08.438 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 95.192ms
2025-08-29 16:59:09.962 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/sessions - null null
2025-08-29 16:59:09.969 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:09.973 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/sessions - 204 null null 11.9221ms
2025-08-29 16:59:09.979 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/sessions - application/json 50
2025-08-29 16:59:09.985 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:09.990 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 16:59:10.010 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 16:59:10.126 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 16:59:10.139 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 16:59:10.144 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 16:59:10.149 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 16:59:10.155 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/sessions - 201 null application/json; charset=utf-8 175.7806ms
2025-08-29 16:59:10.162 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 16:59:10.168 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:10.172 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 10.7584ms
2025-08-29 16:59:10.176 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 16:59:10.184 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:10.192 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 16:59:10.197 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 16:59:10.209 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 16:59:10.214 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 38.1642ms
2025-08-29 16:59:10.214 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/hubs/trace?id=t9QlxfpPePPZ49TJ2wenfA - null null
2025-08-29 16:59:10.224 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:10.229 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 16:59:10.233 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 16:59:28.290 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - null null
2025-08-29 16:59:28.300 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:28.304 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - 204 null null 13.9486ms
2025-08-29 16:59:28.309 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - application/json 66
2025-08-29 16:59:28.314 +02:00 [INF] CORS policy execution successful.
2025-08-29 16:59:28.319 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 16:59:28.335 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 16:59:28.372 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 52), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 16:59:28.388 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 16:59:28.391 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 16:59:28.395 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 16:59:28.405 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 16:59:28.409 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - 202 null application/json; charset=utf-8 100.1173ms
2025-08-29 16:59:28.969 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 16:59:29.463 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 16:59:30.592 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 16:59:30.613 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 16:59:30.622 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 16:59:30.635 +02:00 [WRN] WebSocket estándar falló, intentando con HTTP upgrade manual: The server returned status code '400' when status code '101' was expected.
2025-08-29 16:59:30.664 +02:00 [INF] Intentando HTTP upgrade a WebSocket en: "http://localhost:8970/ws"
2025-08-29 16:59:31.686 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 198), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:03:33.685 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - null null
2025-08-29 17:03:33.693 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:03:33.697 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - 204 null null 12.2251ms
2025-08-29 17:03:33.704 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - application/json 70
2025-08-29 17:03:33.709 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:03:33.714 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:03:33.726 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 17:03:33.751 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 54), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:03:33.759 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 17:03:33.760 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 17:03:33.765 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 17:03:33.775 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:03:33.777 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:03:33.782 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - 202 null application/json; charset=utf-8 78.0253ms
2025-08-29 17:03:33.791 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:03:34.530 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:03:34.540 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 17:03:34.548 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 17:03:34.560 +02:00 [WRN] WebSocket estándar falló, intentando con HTTP upgrade manual: The server returned status code '400' when status code '101' was expected.
2025-08-29 17:03:34.567 +02:00 [INF] Intentando HTTP upgrade a WebSocket en: "http://localhost:8970/ws"
2025-08-29 17:03:35.348 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 242), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:08:26.037 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - null null
2025-08-29 17:08:26.044 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:08:26.048 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - 204 null null 11.0026ms
2025-08-29 17:08:26.054 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - application/json 70
2025-08-29 17:08:26.059 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:08:26.063 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:08:26.069 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 17:08:26.092 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 54), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:08:26.098 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 17:08:26.099 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 17:08:26.105 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 17:08:26.114 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:08:26.117 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:08:26.120 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - 202 null application/json; charset=utf-8 65.5859ms
2025-08-29 17:08:26.127 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:08:26.887 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:08:26.893 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 17:08:26.900 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 17:08:27.023 +02:00 [WRN] WebSocket estándar falló, intentando con HTTP upgrade manual: The server returned status code '400' when status code '101' was expected.
2025-08-29 17:08:27.027 +02:00 [INF] Intentando HTTP upgrade a WebSocket en: "http://localhost:8970/ws"
2025-08-29 17:08:27.693 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 209), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:21:50.552 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - null null
2025-08-29 17:21:50.559 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:21:50.565 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - 204 null null 12.4259ms
2025-08-29 17:21:50.571 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - application/json 70
2025-08-29 17:21:50.577 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:21:50.583 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:21:50.593 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 17:21:50.621 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 54), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:21:50.627 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 17:21:50.629 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 17:21:50.633 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 17:21:50.642 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:21:50.642 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:21:50.653 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:21:50.653 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - 202 null application/json; charset=utf-8 81.8617ms
2025-08-29 17:21:51.400 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:21:51.406 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 17:21:51.412 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 17:21:51.550 +02:00 [WRN] WebSocket estándar falló, intentando con HTTP upgrade manual: The server returned status code '500' when status code '101' was expected.
2025-08-29 17:21:51.557 +02:00 [INF] Intentando HTTP upgrade a WebSocket en: "http://localhost:8970/ws"
2025-08-29 17:21:52.334 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 229), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:27:30.677 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - null null
2025-08-29 17:27:30.685 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:27:30.688 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - 204 null null 11.6037ms
2025-08-29 17:27:30.696 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - application/json 70
2025-08-29 17:27:30.701 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:27:30.706 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:27:30.714 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 17:27:30.737 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 54), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:27:30.743 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 17:27:30.745 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 17:27:30.750 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 17:27:30.758 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:27:30.760 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:27:30.769 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:27:30.770 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/sessions/fbc00e04-0ab7-4b81-a8e9-0d9945d07618/messages - 202 null application/json; charset=utf-8 74.4842ms
2025-08-29 17:27:31.504 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:27:31.510 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 17:27:31.516 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 17:28:17.190 +02:00 [INF] Executed endpoint '/hubs/trace'
2025-08-29 17:28:17.198 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/hubs/trace?id=t9QlxfpPePPZ49TJ2wenfA - 101 null null 1746984.0215ms
2025-08-29 17:28:17.763 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 17:28:17.769 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 17:28:17.773 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:28:17.779 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:28:17.784 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 20.6024ms
2025-08-29 17:28:17.790 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 21.3253ms
2025-08-29 17:28:17.797 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 17:28:17.806 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 17:28:17.811 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:28:17.817 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:28:17.822 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 17:28:17.828 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 17:28:17.835 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 17:28:17.844 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 17:28:17.845 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 17:28:17.850 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 17:28:17.857 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 17:28:17.862 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 17:28:17.866 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 17:28:17.872 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 74.5208ms
2025-08-29 17:28:17.877 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 17:28:17.888 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 82.0612ms
2025-08-29 17:28:19.063 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/sessions - null null
2025-08-29 17:28:19.069 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:28:19.075 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/sessions - 204 null null 12.1577ms
2025-08-29 17:28:19.082 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/sessions - application/json 50
2025-08-29 17:28:19.088 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:28:19.093 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 17:28:19.100 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 17:28:19.126 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 17:28:19.132 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 17:28:19.137 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 17:28:19.141 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 17:28:19.146 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/sessions - 201 null application/json; charset=utf-8 64.3787ms
2025-08-29 17:28:19.157 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 17:28:19.163 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:28:19.169 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 11.7358ms
2025-08-29 17:28:19.173 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 17:28:19.184 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:28:19.191 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 17:28:19.196 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 17:28:19.202 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 17:28:19.208 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 35.4448ms
2025-08-29 17:28:19.212 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/hubs/trace?id=lKlwVghkGc2Q9XIMHYG_WQ - null null
2025-08-29 17:28:19.222 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:28:19.227 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 17:28:19.232 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 17:28:22.153 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/sessions/10a4103f-a6bc-4498-9664-abb85a390a03/messages - null null
2025-08-29 17:28:22.161 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:28:22.165 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/sessions/10a4103f-a6bc-4498-9664-abb85a390a03/messages - 204 null null 12.2929ms
2025-08-29 17:28:22.172 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/sessions/10a4103f-a6bc-4498-9664-abb85a390a03/messages - application/json 66
2025-08-29 17:28:22.177 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:28:22.181 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:28:22.186 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 17:28:22.209 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 52), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:28:22.215 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 17:28:22.216 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 17:28:22.221 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 17:28:22.228 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:28:22.230 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:28:22.238 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:28:22.240 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/sessions/10a4103f-a6bc-4498-9664-abb85a390a03/messages - 202 null application/json; charset=utf-8 67.4617ms
2025-08-29 17:28:22.677 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:28:22.689 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 17:28:22.698 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 17:29:38.235 +02:00 [INF] Executed endpoint '/hubs/trace'
2025-08-29 17:29:38.244 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/hubs/trace?id=lKlwVghkGc2Q9XIMHYG_WQ - 101 null null 79032.0644ms
2025-08-29 17:29:38.751 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - null null
2025-08-29 17:29:38.754 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - null null
2025-08-29 17:29:38.758 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:29:38.763 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:29:38.768 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 204 null null 17.1775ms
2025-08-29 17:29:38.773 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 204 null null 19.0325ms
2025-08-29 17:29:38.778 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - application/json null
2025-08-29 17:29:38.784 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - application/json null
2025-08-29 17:29:38.792 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:29:38.796 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:29:38.802 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 17:29:38.806 +02:00 [INF] Executing endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 17:29:38.812 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 17:29:38.817 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId"
FROM "AgentToolBindings" AS "a"
WHERE "a"."AgentId" = @__agentId_0
2025-08-29 17:29:38.821 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 17:29:38.826 +02:00 [INF] Setting HTTP status code 200.
2025-08-29 17:29:38.830 +02:00 [INF] Writing value of type 'AgentResponse' as Json.
2025-08-29 17:29:38.836 +02:00 [INF] Writing value of type 'List`1' as Json.
2025-08-29 17:29:38.841 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}'
2025-08-29 17:29:38.846 +02:00 [INF] Executed endpoint 'HTTP: GET /agents/{id:guid}/bindings'
2025-08-29 17:29:38.850 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5 - 200 null application/json; charset=utf-8 72.2657ms
2025-08-29 17:29:38.855 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/agents/57625e22-774b-470d-8ba6-785bc04f15f5/bindings - 200 null application/json; charset=utf-8 70.9047ms
2025-08-29 17:29:40.907 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/sessions - null null
2025-08-29 17:29:40.914 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:29:40.919 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/sessions - 204 null null 11.8653ms
2025-08-29 17:29:40.927 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/sessions - application/json 50
2025-08-29 17:29:40.931 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:29:40.937 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/'
2025-08-29 17:29:40.944 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 17:29:40.968 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (Size = 7), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Sessions" ("Id", "AgentId", "EndedUtc", "LastEventIdx", "StartedUtc", "Status", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-29 17:29:40.975 +02:00 [INF] Setting HTTP status code 201.
2025-08-29 17:29:40.979 +02:00 [INF] Writing value of type 'SessionCreatedResponse' as Json.
2025-08-29 17:29:40.983 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/'
2025-08-29 17:29:40.988 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/sessions - 201 null application/json; charset=utf-8 61.4264ms
2025-08-29 17:29:40.999 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - null null
2025-08-29 17:29:41.004 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:29:41.009 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - 204 null null 10.6237ms
2025-08-29 17:29:41.012 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - null 0
2025-08-29 17:29:41.023 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:29:41.027 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 17:29:41.031 +02:00 [INF] Executing endpoint '/hubs/trace/negotiate'
2025-08-29 17:29:41.036 +02:00 [INF] Executed endpoint '/hubs/trace/negotiate'
2025-08-29 17:29:41.043 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/hubs/trace/negotiate?negotiateVersion=1 - 200 316 application/json 30.9137ms
2025-08-29 17:29:41.046 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5085/hubs/trace?id=4ip34ZxFswX4OcDTzA5hFA - null null
2025-08-29 17:29:41.053 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:29:41.059 +02:00 [INF] ApiKey was not authenticated. Failure message: Missing API key
2025-08-29 17:29:41.063 +02:00 [INF] Executing endpoint '/hubs/trace'
2025-08-29 17:29:45.127 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/sessions/a8289730-7700-49b6-aa36-e7264a90b6bf/messages - null null
2025-08-29 17:29:45.135 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:29:45.140 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/sessions/a8289730-7700-49b6-aa36-e7264a90b6bf/messages - 204 null null 13.2452ms
2025-08-29 17:29:45.148 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/sessions/a8289730-7700-49b6-aa36-e7264a90b6bf/messages - application/json 66
2025-08-29 17:29:45.153 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:29:45.158 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:29:45.165 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 17:29:45.186 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 52), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:29:45.193 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 17:29:45.195 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 17:29:45.198 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 17:29:45.207 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:29:45.208 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:29:45.218 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:29:45.220 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/sessions/a8289730-7700-49b6-aa36-e7264a90b6bf/messages - 202 null application/json; charset=utf-8 71.4878ms
2025-08-29 17:29:45.930 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:29:45.937 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 17:29:45.943 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 17:31:52.682 +02:00 [WRN] Error receiving message: The remote party closed the WebSocket connection without completing the close handshake.
2025-08-29 17:31:52.682 +02:00 [WRN] Error receiving message: The remote party closed the WebSocket connection without completing the close handshake.
2025-08-29 17:31:52.682 +02:00 [WRN] Error receiving message: The remote party closed the WebSocket connection without completing the close handshake.
2025-08-29 17:31:54.286 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 345), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:31:54.397 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 412), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:31:54.478 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 440), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:32:25.028 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5085/sessions/a8289730-7700-49b6-aa36-e7264a90b6bf/messages - null null
2025-08-29 17:32:25.037 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:32:25.043 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5085/sessions/a8289730-7700-49b6-aa36-e7264a90b6bf/messages - 204 null null 15.2384ms
2025-08-29 17:32:25.050 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5085/sessions/a8289730-7700-49b6-aa36-e7264a90b6bf/messages - application/json 66
2025-08-29 17:32:25.056 +02:00 [INF] CORS policy execution successful.
2025-08-29 17:32:25.062 +02:00 [INF] Executing endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:32:25.068 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."AgentId", "s"."EndedUtc", "s"."LastEventIdx", "s"."StartedUtc", "s"."Status", "s"."UserId"
FROM "Sessions" AS "s"
WHERE "s"."Id" = @__p_0
LIMIT 1
2025-08-29 17:32:25.097 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 52), @p2='?' (DbType = DateTime), @p3='?' (Size = 4), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 17:32:25.104 +02:00 [INF] Setting HTTP status code 202.
2025-08-29 17:32:25.106 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Autonomy", "a"."CreatedUtc", "a"."GuardrailsJson", "a"."Name", "a"."ParamsJson", "a"."Provider", "a"."Temperature", "a"."TemplateRef", "a"."TokenBudget", "a"."ToolBudget", "a"."TopP", "a"."UpdatedUtc"
FROM "Agents" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-08-29 17:32:25.109 +02:00 [INF] Writing value of type 'AcceptedResponse' as Json.
2025-08-29 17:32:25.119 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:32:25.120 +02:00 [INF] Executed endpoint 'HTTP: POST /sessions/{id:guid}/messages'
2025-08-29 17:32:25.131 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:32:25.132 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5085/sessions/a8289730-7700-49b6-aa36-e7264a90b6bf/messages - 202 null application/json; charset=utf-8 82.3409ms
2025-08-29 17:32:25.597 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__agentId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AgentId", "a"."ConfigJson", "a"."Enabled", "a"."ToolId", "t"."Id", "t"."Description", "t"."Enabled", "t"."InputSchemaJson", "t"."McpServerId", "t"."Name", "t"."Scope", "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "AgentToolBindings" AS "a"
INNER JOIN "Tools" AS "t" ON "a"."ToolId" = "t"."Id"
INNER JOIN "McpServers" AS "m" ON "t"."McpServerId" = "m"."Id"
WHERE "a"."AgentId" = @__agentId_0 AND "a"."Enabled"
2025-08-29 17:32:25.606 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "m"."Id", "m"."AuthType", "m"."BaseUrl", "m"."LastSeenUtc", "m"."MetadataJson", "m"."Name", "m"."Status"
FROM "McpServers" AS "m"
ORDER BY "m"."LastSeenUtc"
2025-08-29 17:32:25.614 +02:00 [INF] Conectando a MCP WebSocket: ws://localhost:8970/ws
2025-08-29 17:38:52.998 +02:00 [WRN] Error receiving message: The remote party closed the WebSocket connection without completing the close handshake.
2025-08-29 17:38:54.335 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 472), @p2='?' (DbType = DateTime), @p3='?' (Size = 9), @p4='?' (DbType = Guid), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Content", "CreatedUtc", "Role", "SessionId", "TokenUsageJson")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-29 19:02:03.148 +02:00 [INF] Executed endpoint '/hubs/trace'
2025-08-29 19:02:03.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5085/hubs/trace?id=4ip34ZxFswX4OcDTzA5hFA - 101 null null 5542109.415ms
